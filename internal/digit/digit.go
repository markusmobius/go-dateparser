// Code is generated by scripts/digit; DO NOT EDIT.

package digit

import (
	"unicode"
)

// NormalizeString converts non latin digit to its latin counterpart.
// For example, 'ูก' will be converted into '1'.
func NormalizeString(str string) string {
	lastUsedRange := -1
	runes := []rune(str)
	for i, r := range runes {
		// If it's not digit, don't change it
		if !unicode.IsDigit(r) {
			continue
		}

		// If we previously already used a range, try to use it again
		if lastUsedRange > 0 {
			if number, ok := allDigitRanges[lastUsedRange].apply(r); ok {
				runes[i] = number
				continue
			}
		}

		// If not, try every digit range
		for j := range allDigitRanges {
			if number, ok := allDigitRanges[j].apply(r); ok {
				runes[i] = number
				lastUsedRange = j
				break
			}
		}
	}

	return string(runes)
}

type digitRange struct {
	Start rune
	End   rune
}

func (dr digitRange) apply(r rune) (rune, bool) {
	if r >= dr.Start && r <= dr.End {
		number := int32(r - dr.Start)
		return '0' + number, true
	}

	return r, false
}

var allDigitRanges = []digitRange{
	{'\U00000030', '\U00000039'}, // DIGIT ZERO - DIGIT NINE
	{'\U0000FF10', '\U0000FF19'}, // FULLWIDTH DIGIT ZERO - FULLWIDTH DIGIT NINE
	{'\U0001CCF0', '\U0001CCF9'}, // OUTLINED DIGIT ZERO - OUTLINED DIGIT NINE
	{'\U0001D7CE', '\U0001D7FF'}, // MATHEMATICAL BOLD DIGIT ZERO - MATHEMATICAL MONOSPACE DIGIT NINE
	{'\U0001FBF0', '\U0001FBF9'}, // SEGMENTED DIGIT ZERO - SEGMENTED DIGIT NINE
	{'\U00000660', '\U00000669'}, // ARABIC-INDIC DIGIT ZERO - ARABIC-INDIC DIGIT NINE
	{'\U000006F0', '\U000006F9'}, // EXTENDED ARABIC-INDIC DIGIT ZERO - EXTENDED ARABIC-INDIC DIGIT NINE
	{'\U00000966', '\U0000096F'}, // DEVANAGARI DIGIT ZERO - DEVANAGARI DIGIT NINE
	{'\U000009E6', '\U000009EF'}, // BENGALI DIGIT ZERO - BENGALI DIGIT NINE
	{'\U00000A66', '\U00000A6F'}, // GURMUKHI DIGIT ZERO - GURMUKHI DIGIT NINE
	{'\U00000AE6', '\U00000AEF'}, // GUJARATI DIGIT ZERO - GUJARATI DIGIT NINE
	{'\U00000B66', '\U00000B6F'}, // ORIYA DIGIT ZERO - ORIYA DIGIT NINE
	{'\U00000BE6', '\U00000BEF'}, // TAMIL DIGIT ZERO - TAMIL DIGIT NINE
	{'\U00000C66', '\U00000C6F'}, // TELUGU DIGIT ZERO - TELUGU DIGIT NINE
	{'\U00000CE6', '\U00000CEF'}, // KANNADA DIGIT ZERO - KANNADA DIGIT NINE
	{'\U00000D66', '\U00000D6F'}, // MALAYALAM DIGIT ZERO - MALAYALAM DIGIT NINE
	{'\U00000DE6', '\U00000DEF'}, // SINHALA LITH DIGIT ZERO - SINHALA LITH DIGIT NINE
	{'\U00000E50', '\U00000E59'}, // THAI DIGIT ZERO - THAI DIGIT NINE
	{'\U00000ED0', '\U00000ED9'}, // LAO DIGIT ZERO - LAO DIGIT NINE
	{'\U00000F20', '\U00000F29'}, // TIBETAN DIGIT ZERO - TIBETAN DIGIT NINE
	{'\U00001040', '\U00001049'}, // MYANMAR DIGIT ZERO - MYANMAR DIGIT NINE
	{'\U00001090', '\U00001099'}, // MYANMAR SHAN DIGIT ZERO - MYANMAR SHAN DIGIT NINE
	{'\U0000A9F0', '\U0000A9F9'}, // MYANMAR TAI LAING DIGIT ZERO - MYANMAR TAI LAING DIGIT NINE
	{'\U000116D0', '\U000116E3'}, // MYANMAR PAO DIGIT ZERO - MYANMAR EASTERN PWO KAREN DIGIT NINE
	{'\U000017E0', '\U000017E9'}, // KHMER DIGIT ZERO - KHMER DIGIT NINE
	{'\U00001810', '\U00001819'}, // MONGOLIAN DIGIT ZERO - MONGOLIAN DIGIT NINE
	{'\U00001946', '\U0000194F'}, // LIMBU DIGIT ZERO - LIMBU DIGIT NINE
	{'\U000104A0', '\U000104A9'}, // OSMANYA DIGIT ZERO - OSMANYA DIGIT NINE
	{'\U000019D0', '\U000019D9'}, // NEW TAI LUE DIGIT ZERO - NEW TAI LUE DIGIT NINE
	{'\U00001B50', '\U00001B59'}, // BALINESE DIGIT ZERO - BALINESE DIGIT NINE
	{'\U000007C0', '\U000007C9'}, // NKO DIGIT ZERO - NKO DIGIT NINE
	{'\U00001BB0', '\U00001BB9'}, // SUNDANESE DIGIT ZERO - SUNDANESE DIGIT NINE
	{'\U00001C40', '\U00001C49'}, // LEPCHA DIGIT ZERO - LEPCHA DIGIT NINE
	{'\U00001C50', '\U00001C59'}, // OL CHIKI DIGIT ZERO - OL CHIKI DIGIT NINE
	{'\U0000A620', '\U0000A629'}, // VAI DIGIT ZERO - VAI DIGIT NINE
	{'\U0000A8D0', '\U0000A8D9'}, // SAURASHTRA DIGIT ZERO - SAURASHTRA DIGIT NINE
	{'\U0000A900', '\U0000A909'}, // KAYAH LI DIGIT ZERO - KAYAH LI DIGIT NINE
	{'\U0000AA50', '\U0000AA59'}, // CHAM DIGIT ZERO - CHAM DIGIT NINE
	{'\U00001A80', '\U00001A89'}, // TAI THAM HORA DIGIT ZERO - TAI THAM HORA DIGIT NINE
	{'\U00001A90', '\U00001A99'}, // TAI THAM THAM DIGIT ZERO - TAI THAM THAM DIGIT NINE
	{'\U0000A9D0', '\U0000A9D9'}, // JAVANESE DIGIT ZERO - JAVANESE DIGIT NINE
	{'\U0000ABF0', '\U0000ABF9'}, // MEETEI MAYEK DIGIT ZERO - MEETEI MAYEK DIGIT NINE
	{'\U00011066', '\U0001106F'}, // BRAHMI DIGIT ZERO - BRAHMI DIGIT NINE
	{'\U00011136', '\U0001113F'}, // CHAKMA DIGIT ZERO - CHAKMA DIGIT NINE
	{'\U000111D0', '\U000111D9'}, // SHARADA DIGIT ZERO - SHARADA DIGIT NINE
	{'\U000110F0', '\U000110F9'}, // SORA SOMPENG DIGIT ZERO - SORA SOMPENG DIGIT NINE
	{'\U000116C0', '\U000116C9'}, // TAKRI DIGIT ZERO - TAKRI DIGIT NINE
	{'\U00016B50', '\U00016B59'}, // PAHAWH HMONG DIGIT ZERO - PAHAWH HMONG DIGIT NINE
	{'\U00011650', '\U00011659'}, // MODI DIGIT ZERO - MODI DIGIT NINE
	{'\U00016A60', '\U00016A69'}, // MRO DIGIT ZERO - MRO DIGIT NINE
	{'\U000112F0', '\U000112F9'}, // KHUDAWADI DIGIT ZERO - KHUDAWADI DIGIT NINE
	{'\U000114D0', '\U000114D9'}, // TIRHUTA DIGIT ZERO - TIRHUTA DIGIT NINE
	{'\U000118E0', '\U000118E9'}, // WARANG CITI DIGIT ZERO - WARANG CITI DIGIT NINE
	{'\U00011730', '\U00011739'}, // AHOM DIGIT ZERO - AHOM DIGIT NINE
	{'\U0001E950', '\U0001E959'}, // ADLAM DIGIT ZERO - ADLAM DIGIT NINE
	{'\U00011C50', '\U00011C59'}, // BHAIKSUKI DIGIT ZERO - BHAIKSUKI DIGIT NINE
	{'\U00011450', '\U00011459'}, // NEWA DIGIT ZERO - NEWA DIGIT NINE
	{'\U00011D50', '\U00011D59'}, // MASARAM GONDI DIGIT ZERO - MASARAM GONDI DIGIT NINE
	{'\U00011DA0', '\U00011DA9'}, // GUNJALA GONDI DIGIT ZERO - GUNJALA GONDI DIGIT NINE
	{'\U00010D30', '\U00010D39'}, // HANIFI ROHINGYA DIGIT ZERO - HANIFI ROHINGYA DIGIT NINE
	{'\U0001E140', '\U0001E149'}, // NYIAKENG PUACHUE HMONG DIGIT ZERO - NYIAKENG PUACHUE HMONG DIGIT NINE
	{'\U0001E2F0', '\U0001E2F9'}, // WANCHO DIGIT ZERO - WANCHO DIGIT NINE
	{'\U00011950', '\U00011959'}, // DIVES AKURU DIGIT ZERO - DIVES AKURU DIGIT NINE
	{'\U00016AC0', '\U00016AC9'}, // TANGSA DIGIT ZERO - TANGSA DIGIT NINE
	{'\U00011F50', '\U00011F59'}, // KAWI DIGIT ZERO - KAWI DIGIT NINE
	{'\U0001E4F0', '\U0001E4F9'}, // NAG MUNDARI DIGIT ZERO - NAG MUNDARI DIGIT NINE
	{'\U00010D40', '\U00010D49'}, // GARAY DIGIT ZERO - GARAY DIGIT NINE
	{'\U00016130', '\U00016139'}, // GURUNG KHEMA DIGIT ZERO - GURUNG KHEMA DIGIT NINE
	{'\U00016D70', '\U00016D79'}, // KIRAT RAI DIGIT ZERO - KIRAT RAI DIGIT NINE
	{'\U0001E5F1', '\U0001E5FA'}, // OL ONAL DIGIT ZERO - OL ONAL DIGIT NINE
	{'\U00011BF0', '\U00011BF9'}, // SUNUWAR DIGIT ZERO - SUNUWAR DIGIT NINE
}
